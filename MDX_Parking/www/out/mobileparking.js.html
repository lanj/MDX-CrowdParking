<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: mobileparking.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: mobileparking.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
	
	        /**
	          * declare global variables for taking map, LatLng , infoWindow , array of Street and  array of Marker
	          */

			var map ;
			
			var parkLatLng ;
			
		    var info;
			
			var streets = [];
			
			var marker = [];
			
			
			
			/**		
			  * initiate Map using google.maps.Map and mapOptions
    		  * @param none;
			  **/
			
		  	  function initMap() {
				
				
			  /***
				*
				*apply maptype and setup map coordinates 
				*@constructor map;
				*@param Div;
				*@param MapOption;
				**/
			  var mapOptions = {
						zoom: 15 ,
						center: {lat: 51.5898860, lng: -0.2269573 }, mapTypeId: google.maps.MapTypeId.ROADMAP
					};
					
			  	  	map = new google.maps.Map(document.getElementById('map'), mapOptions);
				

					        var script = document.createElement('script');
							
							/**
							  *  get GeoJson script with parking details for location.
							  *  
							  */
					        script.src = 'parkingMDX_GeoJSONP.js';
					        document.getElementsByTagName('head')[0].appendChild(script);
							

							
						
			}
			
			/**
			  *  callback function, runs a loop and 
			  *  set coordinates lat and longitude
			  *  to each marker
			  *  use {@link maps#LatLng} to set the  marker coordinates 
              *  use {@link maps.Marker} to create marker for each coordinate
			  *  use {@link marker.setMap} to set marker 
			  *  @param {results} returned results from GEOJSON class
			  *
			  */
			
	        window.eqfeed_callback = function(results) {
			
	          for (var i = 0; i &lt; results.features.length; i++) {
			  
	            var coords = results.features[i].geometry.coordinates;
				var streets = results.features[i].properties.street;

	            parkLatLng = new google.maps.LatLng(coords[1],coords[0]);
				
	            var marker = new google.maps.Marker({

				  position: parkLatLng,
				  map: map
				
				 })
				 
				 marker.setMap(map);
				 addListenerMarker(marker , streets , map );


			    
	          }
			  
		  }
		  
			    /**
		          *   function addListener listens for click event 
		   		  *   and calls the InfoWindow function to get parking details
		          *   @param {Marker}
		          *   @param {Street}
		          *   @param {map }
		          */
		
		  		function addListenerMarker(aMarker, aStreet , map ){
			    
					
						//marker.setLabel(streets);
						var info = new google.maps.InfoWindow({
								content: "" + aStreet  
								
						});
					
				  google.maps.event.addListener(aMarker, 'click', function(event) {	

				
						info.open(map, aMarker);
						
						
				   });
				  
				}

        

		
		google.maps.event.addDomListener(window, 'load', initMap);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addListenerMarker">addListenerMarker</a></li><li><a href="global.html#initMap">initMap</a></li><li><a href="global.html#map">map</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Apr 13 2016 20:51:46 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
